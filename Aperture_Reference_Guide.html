<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta charset="utf-8" />
		<title>Aperture_Reference_Guide</title>
		<link href="Aperture_Reference_Guide-web-resources/css/idGeneratedStyles.css" rel="stylesheet" type="text/css" />
	</head>
	<body id="Aperture_Reference_Guide" lang="en-US">
		<div id="_idContainer000" class="_idGenObjectStyleOverride-1">
			<p class="Normal ParaOverride-1">&#9;&#9;&#9;</p>
			<p class="Normal"><span class="CharOverride-1">Aperture Remote Access Portal</span></p>
			<p class="Normal"><span class="CharOverride-2">Procedures and Reference Guide</span></p>
			<p class="Normal"><span class="CharOverride-2">Created By: Chad Smith, PMO</span></p>
			<p class="Normal"><span class="CharOverride-2">October 15, 2014</span></p>
			<ol>
				<li class="Numbering---Level-1">Introduction <ol><li class="Numbering---Level-2">Scope and Purpose<p class="Summary---Level-2 _idGenParaOverride-1">This document provides a brief overview of the Aperture Remote Access Web Portal, as well as detailed information about the application’s features, procedures for updating the site, and underlying infrastructure. </p></li><li class="Numbering---Level-2">Overview<p class="Summary---Level-2 ParaOverride-2">The Aperture Portal UI was designed and developed by L. Chad Smith (<a href="mailto:lcsmith@stsci.edu"><span class="Hyperlink CharOverride-3">lcsmith@stsci.edu</span></a>), with help from Greg McLeskey (<a href="mailto:mcleskey@stsci.edu"><span class="Hyperlink CharOverride-3">mcleskey@stsci.edu</span></a>). Aperture provides ease of access to internal STScI resources located within the STScI firewall from any non-STScI device via a standard web browser.  In addition to providing direct links that are filterable, sortable, and searchable, Aperture also provides access to RDP and SSH (via Bastion).</p></li></ol></li>
				<li class="Numbering---Level-1">Development and Production Environments<p class="Summary---Level-1">Only one Cisco ASA is available, meaning that testing in a development environment must route traffic through the only available ASA. Because of this, Aperture’s Development environment resides on the same web server as the Aperture Production environment. Developers and testers must be added to the <span class="CharOverride-4">developers</span> variable found at the beginning of the dev_main.js file and the main.js file.</p><ol><li class="Numbering---Level-2">Web Server<p class="Summary---Level-2 _idGenParaOverride-1">The server used to serve pages to the ASA is located at:  <span class="CharOverride-5">passage.stsci.edu</span></p><p class="Summary---Level-2 _idGenParaOverride-1">The following files are used to distinguish between development and production</p><ul><li class="Basic-Paragraph ParaOverride-3">index.html&#9;  &lt;—&gt;  dev_index.html</li><li class="Basic-Paragraph ParaOverride-3">js/main.js    &#9;  &lt;—&gt;  js/dev_main.js</li><li class="Basic-Paragraph ParaOverride-3">css/main.css&#9;  &lt;—&gt;  css/dev_main.css</li></ul></li><li class="Numbering---Level-2">Development to Production Procedure<p class="Summary---Level-2 _idGenParaOverride-1">Development should be done on the dev_% files listed above. When these files are ready to move to production, the contents must be copied fro the dev_% version to the production version. Please note the following rules:</p><ul><li class="List-Style---Level-1 _idGenParaOverride-2"><span class="CharOverride-6">dev_main.css</span><ul><li class="List-Style---Level-2 _idGenParaOverride-2">Copy and paste entire content to main.css. </li><li class="List-Style---Level-2 _idGenParaOverride-2">In the body tag, remove the -dev appendix from the background url. The corresponding line will have the following comment: </li><li class="List-Style---Level-2 _idGenParaOverride-2"><span class="CharOverride-7">&#9;/* PROD: REMOVE -dev from background url */ </span></li></ul></li><li class="List-Style---Level-1 _idGenParaOverride-2"><span class="CharOverride-6">dev_main.js</span><ul><li class="List-Style---Level-2 _idGenParaOverride-2">Copy and paste entire content to main.js</li></ul></li><li class="List-Style---Level-1 _idGenParaOverride-2"><span class="CharOverride-6">dev_index.html</span> <ul><li class="List-Style---Level-2 _idGenParaOverride-2">Copy and paste <span class="CharOverride-6">ONLY THE AREA BETWEEN THE FOLLOWING COMMENT TAGS:</span></li><li class="List-Style---Level-2 _idGenParaOverride-2"><span class="CharOverride-7">   &#9;&lt;!-- PROD: BEGIN COPY --&gt; &lt;!-- PROD: END COPY --&gt;</span></li><li class="List-Style---Level-2 _idGenParaOverride-2">The only exception to this rule is when necessary changes are made outside of these tags.  This rule exists to protect the relative file paths found in the <span class="CharOverride-4">&lt;head&gt;</span> and at the end of the <span class="CharOverride-4">&lt;body&gt;</span> tags</li></ul></li></ul></li><li class="Numbering---Level-2">Adding New Links<p class="Summary---Level-2 _idGenParaOverride-1"><span class="CharOverride-3">The first </span><span class="CharOverride-4">&lt;li&gt;</span><span class="CharOverride-3"> link on the site is a template that can be used to copy and paste to create a new link.  All items in </span><span class="CharOverride-4">yellow</span><span class="CharOverride-3"> must be updated with the information specific to the link being created.</span></p><ol><li class="Numbering---Level-3 _idGenParaOverride-3">Link Template<p class="Normal ParaOverride-4">   <span class="CharOverride-4">&lt;li class=”mix mix_all CHANGE_TO_FILTER_CLASS” data-keyword=”ADD KEYWORDS INCLUDING LINK TITLE” data-group=”ADD FILTER GROUP” data-name=”ADD UNIQUE NAME” data-rank=”LEAVE BLANK FOR NOW” data-customLink=”false” style=”  display: inline-block”&gt;</span></p><p class="Normal ParaOverride-4"><span class="CharOverride-4">        &lt;a target=”_blank” href=”ADD LINK URL”&gt;</span></p><p class="Normal ParaOverride-4"><span class="CharOverride-4">&#9;&#9; &lt;div class=”grid-content”&gt;</span></p><p class="Normal ParaOverride-4"><span class="CharOverride-4">                &lt;div class=”grid-titles”&gt;</span></p><p class="Normal ParaOverride-4"><span class="CharOverride-4">                    &lt;h2&gt;ADD TITLE&lt;/h2&gt;</span></p><p class="Normal ParaOverride-4"><span class="CharOverride-4">                &lt;/div&gt;</span></p><p class="Normal ParaOverride-4"><span class="CharOverride-4">                &lt;div class=”grid-descr”&gt;</span></p><p class="Normal ParaOverride-4"><span class="CharOverride-4">                    &lt;p&gt;&lt;/p&gt;</span></p><p class="Normal ParaOverride-4"><span class="CharOverride-4">                &lt;/div&gt;</span></p><p class="Normal ParaOverride-4"><span class="CharOverride-4">            &lt;/div&gt;</span></p><p class="Normal ParaOverride-4"><span class="CharOverride-4">            &lt;div class=”list-content”&gt;</span></p><p class="Normal ParaOverride-4"><span class="CharOverride-4">                &lt;div class=”meta list-name”&gt;                   </span></p><p class="Normal ParaOverride-4"><span class="CharOverride-4">                    &lt;div class=”list-titles”&gt;</span></p><p class="Normal ParaOverride-4"><span class="CharOverride-4">                        &lt;h2&gt;ADD TITLE&lt;/h2&gt;</span></p><p class="Normal ParaOverride-4"><span class="CharOverride-4">                    &lt;/div&gt;</span></p><p class="Normal ParaOverride-4"><span class="CharOverride-4">                &lt;/div&gt;</span></p><p class="Normal ParaOverride-4"><span class="CharOverride-4">                &lt;div class=”meta list-descr”&gt;</span></p><p class="Normal ParaOverride-4"><span class="CharOverride-4">                    &lt;p&gt;ADD DESCRIPTION (OPTIONAL)&lt;/p&gt;</span></p><p class="Normal ParaOverride-4"><span class="CharOverride-4">                &lt;/div&gt;</span></p><p class="Normal ParaOverride-4"><span class="CharOverride-4">            &lt;/div&gt;</span></p><p class="Normal ParaOverride-4"><span class="CharOverride-4">        &lt;/a&gt;</span></p><p class="Normal ParaOverride-4"><span class="CharOverride-4">    &lt;/li&gt;</span></p></li><li class="Numbering---Level-3 _idGenParaOverride-3">Class Attributes<ul><li class="List-Style---Level-1 _idGenParaOverride-4">business</li><li class="List-Style---Level-1 _idGenParaOverride-4">collaboration</li><li class="List-Style---Level-1 _idGenParaOverride-4">hr</li><li class="List-Style---Level-1 _idGenParaOverride-4">itsd</li><li class="List-Style---Level-1 _idGenParaOverride-4">library</li><li class="List-Style---Level-1 _idGenParaOverride-4">pmo</li><li class="List-Style---Level-1 _idGenParaOverride-4">science</li></ul></li></ol></li></ol><ol><li class="Numbering---Level-3">Data-Group Attributes<ul><li class="List-Style---Level-1 _idGenParaOverride-4">business</li><li class="List-Style---Level-1 _idGenParaOverride-4">collaboration</li><li class="List-Style---Level-1 _idGenParaOverride-4">hr</li><li class="List-Style---Level-1 _idGenParaOverride-4">itsd</li><li class="List-Style---Level-1 _idGenParaOverride-4">library</li><li class="List-Style---Level-1 _idGenParaOverride-4">pmo</li><li class="List-Style---Level-1 _idGenParaOverride-4">science</li></ul></li></ol></li>
				<li class="Numbering---Level-1">Features<p class="Summary---Level-1">Description of Aperture’s User Interface/User Experience features</p><ol><li class="Numbering---Level-2">Local (Web) Storage<p class="Summary---Level-2 _idGenParaOverride-1">The implementation of HTML5’s Local Storage (LS) feature is utilized in many aspects of Aperture’s UX.  The following is a description of how and why this feature has been used. LS is browser specific, therefor, the values in LS are not accessible cross-browser. Additionally, LS does not operate if the User has Private Browsing enabled.</p><ol><li class="Numbering---Level-3 _idGenParaOverride-3">ls_WelcomePopup<p class="Summary---Level-3 _idGenParaOverride-1"><span class="CharOverride-8">LocalStorage(</span><span class="CharOverride-4">ls_WelcomePopup</span><span class="CharOverride-8">) is used to store a 0/1 value which indicates if a user has previously visited Aperture. If this is the user’s first time visiting Aperture (using this unique browser) a modal window is opened to give a brief overview of the application.</span></p></li><li class="Numbering---Level-3 _idGenParaOverride-3">ls_Favorites<p class="Summary---Level-3 _idGenParaOverride-1"><span class="CharOverride-8">LocalStorage(</span><span class="CharOverride-4">ls_Favorites</span><span class="CharOverride-8">) is used to store user preferences for favorite links. Clicking the grey check mark on each link will add the link to the favorites, while clicking the green check mark will remove the favorites from the list.</span></p></li><li class="Numbering---Level-3 _idGenParaOverride-3">ls_Username<p class="Summary---Level-3 _idGenParaOverride-1"><span class="CharOverride-8">LocalStorage(</span><span class="CharOverride-4">ls_Username</span><span class="CharOverride-8">) is currently being used to store the username of the current user and populate any fields that may require a username. When providing feedback, the current username is automatically populated. This value is also used to determine if the user is considered a developer, which gives them access to both the production and development interface.</span></p></li><li class="Numbering---Level-3 _idGenParaOverride-3">ls_ActiveFilter<p class="Summary---Level-3 _idGenParaOverride-1">LocalStorage(<span class="CharOverride-4">ls_ActiveFilter</span>) stores the last filter state that the user had selected, allowing the layout to redraw to it’s final state if the user navigates away from and subsequently returns to the page.</p></li><li class="Numbering---Level-3 _idGenParaOverride-3">ls_FailState<p class="Summary---Level-3 _idGenParaOverride-1">LocalStorage(<span class="CharOverride-4">ls_FailState</span>) recognizes if the last filter state returned no results. If true, the layout will return to a Show All state.</p></li></ol></li><li class="Numbering---Level-2">Search<p class="Normal ParaOverride-5"><span class="CharOverride-9">Aperture allows users the ability to search for links with the use of keywords. The search feature uses the </span><span class="CharOverride-10">findMember()</span><span class="CharOverride-9"> in combination with a jQuery keyup event to create a dynamic search of links on the page.  Currently, the function uses the text entered in the #search input field to return a match against the contents of the </span><span class="CharOverride-10">data-keyword</span><span class="CharOverride-11"> </span><span class="CharOverride-9">attribute found on each </span><span class="CharOverride-10">&lt;li&gt;</span><span class="CharOverride-9"> tag.</span></p></li><li class="Numbering---Level-2">Grid and List Layout<p class="Normal ParaOverride-5"><span class="CharOverride-9">Layout, filtering, and sorting of the pages links are controlled via a combination of CSS and the MixItUp plugin (mixItUp.js).  </span></p><p class="Normal ParaOverride-5"><span class="CharOverride-11">Default sorting for each view is </span><span class="CharOverride-10">name:asc</span><span class="CharOverride-11">.  Four different views are currently set up to display according to user preferences and interaction. </span></p><p class="Normal ParaOverride-5"><span class="CharOverride-11"> </span></p><ol><li class="List-Paragraph ParaOverride-6"><span class="CharOverride-11">By default, if a user has no favorites stored in </span><span class="CharOverride-10">ls_Favorites</span><span class="CharOverride-11">, the page will display all links.  </span></li><li class="List-Paragraph ParaOverride-6"><span class="CharOverride-11">If a user has values stored in </span><span class="CharOverride-10">ls_Favorites</span><span class="CharOverride-11"> , the page will display all items containing a </span><span class="CharOverride-10">.mine</span><span class="CharOverride-11"> class (The </span><span class="CharOverride-10">.mine</span><span class="CharOverride-11"> is a class assigned to the link when adding to </span><span class="CharOverride-10">ls_Favorites</span><span class="CharOverride-11">.) </span></li><li class="List-Paragraph ParaOverride-6"><span class="CharOverride-11">If a user searches and a match is found, a </span><span class="CharOverride-10">.search</span><span class="CharOverride-11"> class is added to the link and only these results are displayed.</span></li><li class="List-Paragraph ParaOverride-6"><span class="CharOverride-11">If no links match the criteria, a </span><span class="CharOverride-10">&lt;li&gt;</span><span class="CharOverride-11"> with a </span><span class="CharOverride-10">.fail</span><span class="CharOverride-11"> class is displayed. </span></li></ol></li></ol><ol><li class="Numbering---Level-2">Modal Windows<p class="Normal ParaOverride-5"><span class="CharOverride-9">Modal windows are displayed using </span><span class="CharOverride-12">the </span><span class="CharOverride-10">modal()</span><span class="CharOverride-9">. Both the About and FAQ links use this method for opening and closing the modal window.  The HTML elements for these windows have been assigned to JS variables within the dev_main.js/main.js file.</span></p></li></ol></li>
				<li class="Numbering---Level-1">Commission<p class="Normal ParaOverride-7"><span class="CharOverride-3">This section will describe the procedure for commissioning a new instance of the Aperture Web Portal.</span></p><ol><li class="Numbering---Level-2">Assumptions<p class="Normal ParaOverride-5"><span class="CharOverride-3">The following procedures assume that the ASDM is pointing to the domain </span><a href="https://aperture.stsci.edu"><span class="Hyperlink CharOverride-3">https://aperture.stsci.edu</span></a></p></li><li class="Numbering---Level-2">Web Server<p class="Normal ParaOverride-5">The server currently used to serve pages to the ASA is located at: </p><p class="Normal ParaOverride-5"><span class="CharOverride-5">passage.stsci.edu</span></p></li><li class="Numbering---Level-2">Repository</li><li class="Numbering---Level-2">Configuring the ASDM<ul><li class="List-Style---Bullets _idGenParaOverride-6">Open the ASDM and Log In</li><li class="List-Style---Bullets _idGenParaOverride-6">jhjhjhjhChoose Configuration from the top menu</li></ul><p class="Normal ParaOverride-5"><a id="_idTextAnchor000"></a></p></li></ol></li>
			</ol>
		</div>
		<div class="_idGenObjectLayout-1">
			<div id="_idContainer001" class="_idGenObjectStyleOverride-1">
				<img class="_idGenObjectAttribute-1" src="Aperture_Reference_Guide-web-resources/image/Screen%20Shot%202014-10-30%20at%201.36.55%20PM.png" alt="" />
			</div>
		</div>
		<div class="_idGenObjectLayout-1">
			<div id="_idContainer002" class="_idGenObjectStyleOverride-1">
				<img class="_idGenObjectAttribute-1" src="Aperture_Reference_Guide-web-resources/image/Screen%20Shot%202014-10-30%20at%201.37.31%20PM.png" alt="" />
			</div>
		</div>
		<div class="_idGenObjectLayout-1">
			<div id="_idContainer003" class="_idGenObjectStyleOverride-1">
				<img class="_idGenObjectAttribute-1" src="Aperture_Reference_Guide-web-resources/image/Screen%20Shot%202014-10-30%20at%201.37.49%20PM.png" alt="" />
			</div>
		</div>
		<div class="_idGenObjectLayout-1">
			<div id="_idContainer004" class="_idGenObjectStyleOverride-1">
				<img class="_idGenObjectAttribute-1" src="Aperture_Reference_Guide-web-resources/image/Screen%20Shot%202014-10-30%20at%201.38.14%20PM.png" alt="" />
			</div>
		</div>
		<div class="_idGenObjectLayout-1">
			<div id="_idContainer005" class="_idGenObjectStyleOverride-1">
				<img class="_idGenObjectAttribute-1" src="Aperture_Reference_Guide-web-resources/image/Screen%20Shot%202014-10-30%20at%201.38.29%20PM.png" alt="" />
			</div>
		</div>
		<div class="_idGenObjectLayout-1">
			<div id="_idContainer006" class="_idGenObjectStyleOverride-1">
				<img class="_idGenObjectAttribute-1" src="Aperture_Reference_Guide-web-resources/image/Screen%20Shot%202014-10-30%20at%201.38.51%20PM.png" alt="" />
			</div>
		</div>
	</body>
</html>
